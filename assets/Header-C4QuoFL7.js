import{r as d,j as e}from"./index-Dc0qdYbQ.js";import{C as A}from"./chevron-down-DqDvQVxy.js";import{c as R}from"./createLucideIcon-646iu7iI.js";import{E as $}from"./external-link-FEDHK1mK.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],z=R("chevron-right",L);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"m15 10 5 5-5 5",key:"qqa56n"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]],D=R("corner-down-right",V);function q({menuOpen:r,setMenuOpen:m}){const j=d.useRef(null),[C,T]=d.useState(60),[v,S]=d.useState({core:!0,identity:!1,system:!1}),[B,N]=d.useState(null),b=d.useRef(!1),y=d.useRef(!0);d.useEffect(()=>{const t=document.querySelector("header");if(t){const n=t.offsetHeight;T(n)}},[]);const H=(t,n)=>{const i=document.querySelector("header"),c=i?i.offsetHeight:60,o=(l,a=20)=>{const p=document.getElementById(l);if(console.log("[performScroll]",{targetId:l,found:!!p}),p){const g=p.getBoundingClientRect().top+window.pageYOffset,h=g-c-a;return console.log("[performScroll] Scrolling",{elementTop:g,offsetPosition:h,headerHeight:c}),window.scrollTo({top:h,behavior:"smooth"}),!0}return!1};if(console.log("[handleScrollToSection] Called",{id:t,parentId:n}),b.current=!0,y.current=!1,m(!1),!n){console.log("[handleScrollToSection] Top-level section"),o(t,100),setTimeout(()=>{const l=new CustomEvent("open-section",{detail:{sectionId:t}});window.dispatchEvent(l),setTimeout(()=>{y.current=!0,b.current=!1},1e3)},800);return}const u=document.getElementById(t),f=u!==null;let s=!1;if(u){const l=u.getBoundingClientRect(),a=window.getComputedStyle(u),p=l.height>0&&l.width>0,g=a.visibility!=="hidden"&&a.display!=="none"&&a.opacity!=="0";s=p&&g}const x=f&&s;if(console.log("[handleScrollToSection] Section state",{parentId:n,widgetThinksSectionOpen:v[n],targetExists:f,targetIsVisible:s,actuallyOpen:x}),S({core:n==="core",identity:n==="identity",system:n==="system"}),N(t),x){console.log("[handleScrollToSection] Section actually open, scrolling directly"),setTimeout(()=>{o(t),setTimeout(()=>{y.current=!0,b.current=!1},800)},100);return}console.log("[handleScrollToSection] Section closed, need to open it",n);const w=document.getElementById(n);if(w){const a=w.getBoundingClientRect().top+window.pageYOffset-c-100;console.log("[handleScrollToSection] Scrolling to parent section first",{parentId:n,parentOffset:a}),window.scrollTo({top:a,behavior:"smooth"})}setTimeout(()=>{console.log("[handleScrollToSection] Dispatching open event",n);const l=new CustomEvent("open-section",{detail:{sectionId:n}});window.dispatchEvent(l);let a=0;const p=50,g=()=>{a++;const h=document.getElementById(t);if(console.log("[checkAndScroll] Attempt",a,{found:!!h,hasSize:h?`${h.getBoundingClientRect().height}x${h.getBoundingClientRect().width}`:"N/A"}),h){const k=h.getBoundingClientRect();if(k.height>0&&k.width>0){console.log("[checkAndScroll] Element ready, scrolling"),o(t),setTimeout(()=>{o(t),setTimeout(()=>{y.current=!0,b.current=!1,console.log("[checkAndScroll] Navigation complete")},500)},300);return}}a<p?setTimeout(g,100):(console.warn("[checkAndScroll] Timeout waiting for element"),y.current=!0,b.current=!1)};setTimeout(g,200)},600)},I=t=>{S(n=>n[t]?{core:!1,identity:!1,system:!1}:{core:t==="core",identity:t==="identity",system:t==="system"})};d.useEffect(()=>{const t=n=>{n.key==="Escape"&&m(!1)};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[m]),d.useEffect(()=>{const t=n=>{const i=n.target,c=i.closest('header button[aria-label*="menu"]');r&&j.current&&!j.current.contains(i)&&!c&&m(!1)};return r&&document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[r,m]),d.useEffect(()=>{if(r&&!b.current){const t=E.flatMap(o=>(o.subItems||[]).map(u=>({id:u.id,label:u.label,parentId:o.id}))),n=window.innerHeight/2,i=500;let c=null;if(t.forEach(({id:o,parentId:u})=>{const f=document.getElementById(o);if(f){const s=f.getBoundingClientRect();if(s.top<window.innerHeight&&s.bottom>0){const w=s.top+s.height/2,l=Math.abs(w-n);l<i&&(!c||l<c.distance)&&(c={id:o,distance:l,parentId:u})}}}),c){const o=c;S({core:o.parentId==="core",identity:o.parentId==="identity",system:o.parentId==="system"}),N(o.id)}else S({core:!1,identity:!1,system:!1}),N(null)}},[r]),d.useEffect(()=>{const t=()=>{if(!y.current||b.current)return;const n=E.flatMap(s=>(s.subItems||[]).map(x=>({id:x.id,label:x.label,parentId:s.id}))),i=document.querySelector("header"),o=(i?i.offsetHeight:60)+24,u=window.innerHeight;let f=null;if(n.forEach(({id:s,parentId:x})=>{const w=document.getElementById(s);if(!w)return;const l=w.getBoundingClientRect(),a=l.top,p=a+l.height/2;if(!(l.bottom>o&&a<u))return;const h=Math.abs(p-(o+(u-o)/3));(!f||h<f.distance)&&(f={id:s,distance:h,parentId:x})}),f){const s=f;N(s.id),S({core:s.parentId==="core",identity:s.parentId==="identity",system:s.parentId==="system"})}};return window.addEventListener("scroll",t,{passive:!0}),t(),()=>window.removeEventListener("scroll",t)},[]);const E=[{id:"core",label:"Core",subItems:[{id:"mission",label:"Mission"},{id:"values",label:"Values"},{id:"voice",label:"Voice"},{id:"pillars",label:"Pillars"}]},{id:"identity",label:"Identity",subItems:[{id:"logo",label:"Logo"},{id:"color",label:"Color"},{id:"typography",label:"Typography"},{id:"guide",label:"Guide"}]},{id:"system",label:"System",subItems:[{id:"figma",label:"Figma"}]}];return e.jsxs(e.Fragment,{children:[r&&e.jsx("div",{className:"fixed left-0 right-0 bottom-0 bg-black/40 backdrop-blur-sm z-30",style:{top:`${C}px`},onClick:()=>m(!1)}),e.jsx("div",{ref:j,className:"fixed w-[448px] max-w-[calc(100vw-48px)] bg-brand-charcoal border border-[#787878] rounded-lg shadow-lg transition-all duration-300 ease-out z-40",style:{top:`${C+12}px`,right:r?"24px":"-480px",left:r?"24px":"auto"},children:e.jsxs("div",{className:"px-8 py-6 flex flex-col gap-8",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h3",{className:"font-text text-label uppercase text-brand-vanilla",children:"On this page"})}),e.jsx("nav",{className:"flex flex-col gap-4",children:E.map(t=>e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>{I(t.id)},className:"flex items-center gap-3 py-1 group w-full text-left transition-colors duration-200",children:[e.jsx("div",{className:"flex items-center justify-center w-5 h-5",children:e.jsx("svg",{className:`w-3 h-3 ${v[t.id]?"text-brand-aperol":"text-brand-vanilla"}`,viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:e.jsx("circle",{cx:"8",cy:"8",r:"6"})})}),e.jsx("span",{className:`font-display text-h4-mobile md:text-h4-tablet xl:text-h4-desktop flex-shrink-0 ${v[t.id]?"text-brand-aperol":"text-brand-vanilla"}`,children:t.label}),e.jsx("div",{className:`flex-1 border-b border-dotted mx-3 ${v[t.id]?"border-brand-aperol":"border-[#787878]"}`}),v[t.id]?e.jsx(A,{className:"w-5 h-5 text-brand-aperol transition-transform duration-300 flex-shrink-0"}):e.jsx(z,{className:"w-5 h-5 text-brand-vanilla transition-transform duration-300 flex-shrink-0"})]}),v[t.id]&&t.subItems&&e.jsx("div",{className:"pl-8 flex flex-col gap-1 mt-3 pb-6 animate-fade-in",children:t.subItems.map(n=>{const i=B===n.id;return e.jsxs("a",{href:`#${n.id}`,onClick:c=>{c.preventDefault(),H(n.id,t.id)},className:`flex items-center gap-2 py-1 group transition-colors duration-200 ${i?"text-brand-aperol":"text-brand-vanilla hover:text-brand-aperol"}`,children:[e.jsx(D,{className:`w-4 h-4 transition-colors duration-200 flex-shrink-0 ${i?"text-brand-aperol":"text-brand-vanilla group-hover:text-brand-aperol"}`}),e.jsx("span",{className:"font-text text-b1 flex-shrink-0",children:n.label}),e.jsx("div",{className:`flex-1 border-b border-dotted transition-colors duration-200 ml-2 ${i?"border-brand-aperol":"border-[#787878] group-hover:border-brand-aperol"}`})]},n.id)})})]},t.id))}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("h3",{className:"font-text text-caption uppercase text-brand-vanilla",children:"Quick Links"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("a",{href:"https://www.figma.com/design/t6ibLjzJFXY6HzU0bIahxw/BRAND-OS?node-id=11107-68411&t=w51tqPrTUlDRqfak-1",target:"_blank",rel:"noopener noreferrer",className:"flex-1 min-w-[132px] bg-white text-brand-charcoal rounded-full px-4 py-3 font-text text-button flex items-center justify-center gap-2 hover:bg-brand-aperol hover:text-white transition-colors",children:["Figma",e.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 38 57",fill:"currentColor",children:[e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 28.5C19 23.2533 23.2533 19 28.5 19C33.7467 19 38 23.2533 38 28.5C38 33.7467 33.7467 38 28.5 38C23.2533 38 19 33.7467 19 28.5Z"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 47.5C0 42.2533 4.25329 38 9.5 38H19V47.5C19 52.7467 14.7467 57 9.5 57C4.25329 57 0 52.7467 0 47.5Z"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 0V19H28.5C33.7467 19 38 14.7467 38 9.5C38 4.25329 33.7467 0 28.5 0H19Z"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 9.5C0 14.7467 4.25329 19 9.5 19H19V0H9.5C4.25329 0 0 4.25329 0 9.5Z"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 28.5C0 33.7467 4.25329 38 9.5 38H19V19H9.5C4.25329 19 0 23.2533 0 28.5Z"})]})]}),e.jsxs("a",{href:"https://github.com/opensesh",target:"_blank",rel:"noopener noreferrer",className:"flex-1 min-w-[132px] bg-white text-brand-charcoal rounded-full px-4 py-3 font-text text-button flex items-center justify-center gap-2 hover:bg-brand-aperol hover:text-white transition-colors",children:["Git Repo",e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})]})]}),e.jsxs("a",{href:"https://www.figma.com/proto/t6ibLjzJFXY6HzU0bIahxw/BRAND-OS?page-id=19939%3A21956&node-id=20255-18337&viewport=465%2C-92%2C0.05&t=Fjx1co9Q53DPCGLw-1&scaling=scale-down&content-scaling=fixed&starting-point-node-id=20255%3A18337",target:"_blank",rel:"noopener noreferrer",className:"w-full bg-white text-brand-charcoal rounded-full px-4 py-3 font-text text-button flex items-center justify-center gap-2 hover:bg-brand-aperol hover:text-white transition-colors",children:["Guidelines",e.jsx($,{className:"w-4 h-4"})]})]})]})})]})}const M="/BRAND-OS/";function W(){const[r,m]=d.useState(!1),j=()=>{window.scrollTo({top:0,behavior:"smooth"})};return d.useEffect(()=>{if(r){const C=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow="hidden",document.body.style.paddingRight=`${C}px`}else document.body.style.overflow="",document.body.style.paddingRight="";return()=>{document.body.style.overflow="",document.body.style.paddingRight=""}},[r]),e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"sticky top-0 z-50 bg-brand-charcoal border-b border-[#595959]",children:e.jsxs("div",{className:"w-full max-w-[1184px] mx-auto px-6 py-3 flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("button",{onClick:j,className:"flex items-center cursor-pointer",children:e.jsx("img",{src:`${M}assets/logos/brandmark-vanilla.svg`,alt:"Brand Logo",className:"w-6 h-6"})})}),e.jsx("button",{className:"relative flex items-center justify-center w-6 h-6",onClick:()=>m(!r),"aria-label":r?"Close menu":"Open menu",type:"button",children:e.jsxs("div",{className:`absolute flex flex-col items-center justify-center w-6 h-6 transition-all duration-300 ease-in-out pointer-events-none ${r?"rotate-180":"rotate-0"}`,children:[e.jsx("span",{className:`absolute w-[18px] h-[1.5px] bg-brand-vanilla transition-all duration-300 ease-in-out pointer-events-none ${r?"rotate-45 translate-y-0":"rotate-0 -translate-y-[3px]"}`}),e.jsx("span",{className:`absolute w-[18px] h-[1.5px] bg-brand-vanilla transition-all duration-300 ease-in-out pointer-events-none ${r?"-rotate-45 translate-y-0":"rotate-0 translate-y-[3px]"}`})]})})]})}),e.jsx(q,{menuOpen:r,setMenuOpen:m})]})}export{W as default};
