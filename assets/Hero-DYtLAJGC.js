import{r as G,j as D}from"./index-Dc0qdYbQ.js";import{m as ct}from"./proxy-Cl1_1v-I.js";const ht={primary:"bg-brand-aperol text-brand-vanilla hover:bg-brand-aperol/90 focus-visible:outline-brand-aperol",secondary:"bg-white/10 text-brand-vanilla hover:bg-white/20 focus-visible:outline-white/40",ghost:"bg-transparent text-brand-vanilla hover:bg-white/10 focus-visible:outline-white/30"};G.forwardRef(function({className:e,variant:r="primary",fullWidth:s,...i},n){return D.jsx("button",{ref:n,className:`inline-flex items-center justify-center rounded-lg px-4 py-2 text-sm font-medium transition-colors focus-visible:outline-2 focus-visible:outline-offset-2 ${ht[r]} ${s?"w-full":""} ${e??""}`,...i})});function oe(t){let e=t[0],r=t[1],s=t[2];return Math.sqrt(e*e+r*r+s*s)}function we(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function dt(t,e,r,s){return t[0]=e,t[1]=r,t[2]=s,t}function _e(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function ze(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function ft(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function ut(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function ue(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function pt(t,e){let r=e[0]-t[0],s=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(r*r+s*s+i*i)}function gt(t,e){let r=e[0]-t[0],s=e[1]-t[1],i=e[2]-t[2];return r*r+s*s+i*i}function Ce(t){let e=t[0],r=t[1],s=t[2];return e*e+r*r+s*s}function mt(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function bt(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function ve(t,e){let r=e[0],s=e[1],i=e[2],n=r*r+s*s+i*i;return n>0&&(n=1/Math.sqrt(n)),t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function Ye(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Se(t,e,r){let s=e[0],i=e[1],n=e[2],a=r[0],l=r[1],o=r[2];return t[0]=i*o-n*l,t[1]=n*a-s*o,t[2]=s*l-i*a,t}function xt(t,e,r,s){let i=e[0],n=e[1],a=e[2];return t[0]=i+s*(r[0]-i),t[1]=n+s*(r[1]-n),t[2]=a+s*(r[2]-a),t}function yt(t,e,r,s,i){const n=Math.exp(-s*i);let a=e[0],l=e[1],o=e[2];return t[0]=r[0]+(a-r[0])*n,t[1]=r[1]+(l-r[1])*n,t[2]=r[2]+(o-r[2])*n,t}function wt(t,e,r){let s=e[0],i=e[1],n=e[2],a=r[3]*s+r[7]*i+r[11]*n+r[15];return a=a||1,t[0]=(r[0]*s+r[4]*i+r[8]*n+r[12])/a,t[1]=(r[1]*s+r[5]*i+r[9]*n+r[13])/a,t[2]=(r[2]*s+r[6]*i+r[10]*n+r[14])/a,t}function vt(t,e,r){let s=e[0],i=e[1],n=e[2],a=r[3]*s+r[7]*i+r[11]*n+r[15];return a=a||1,t[0]=(r[0]*s+r[4]*i+r[8]*n)/a,t[1]=(r[1]*s+r[5]*i+r[9]*n)/a,t[2]=(r[2]*s+r[6]*i+r[10]*n)/a,t}function Mt(t,e,r){let s=e[0],i=e[1],n=e[2];return t[0]=s*r[0]+i*r[3]+n*r[6],t[1]=s*r[1]+i*r[4]+n*r[7],t[2]=s*r[2]+i*r[5]+n*r[8],t}function kt(t,e,r){let s=e[0],i=e[1],n=e[2],a=r[0],l=r[1],o=r[2],c=r[3],h=l*n-o*i,d=o*s-a*n,f=a*i-l*s,p=l*f-o*d,u=o*h-a*f,g=a*d-l*h,m=c*2;return h*=m,d*=m,f*=m,p*=2,u*=2,g*=2,t[0]=s+h+p,t[1]=i+d+u,t[2]=n+f+g,t}const At=(function(){const t=[0,0,0],e=[0,0,0];return function(r,s){we(t,r),we(e,s),ve(t,t),ve(e,e);let i=Ye(t,e);return i>1?0:i<-1?Math.PI:Math.acos(i)}})();function Et(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}class X extends Array{constructor(e=0,r=e,s=e){return super(e,r,s),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,r=e,s=e){return e.length?this.copy(e):(dt(this,e,r,s),this)}copy(e){return we(this,e),this}add(e,r){return r?_e(this,e,r):_e(this,this,e),this}sub(e,r){return r?ze(this,e,r):ze(this,this,e),this}multiply(e){return e.length?ft(this,this,e):ue(this,this,e),this}divide(e){return e.length?ut(this,this,e):ue(this,this,1/e),this}inverse(e=this){return bt(this,e),this}len(){return oe(this)}distance(e){return e?pt(this,e):oe(this)}squaredLen(){return Ce(this)}squaredDistance(e){return e?gt(this,e):Ce(this)}negate(e=this){return mt(this,e),this}cross(e,r){return r?Se(this,e,r):Se(this,this,e),this}scale(e){return ue(this,this,e),this}normalize(){return ve(this,this),this}dot(e){return Ye(this,e)}equals(e){return Et(this,e)}applyMatrix3(e){return Mt(this,this,e),this}applyMatrix4(e){return wt(this,this,e),this}scaleRotateMatrix4(e){return vt(this,this,e),this}applyQuaternion(e){return kt(this,this,e),this}angle(e){return At(this,e)}lerp(e,r){return xt(this,this,e,r),this}smoothLerp(e,r,s){return yt(this,this,e,r,s),this}clone(){return new X(this[0],this[1],this[2])}fromArray(e,r=0){return this[0]=e[r],this[1]=e[r+1],this[2]=e[r+2],this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e[r+2]=this[2],e}transformDirection(e){const r=this[0],s=this[1],i=this[2];return this[0]=e[0]*r+e[4]*s+e[8]*i,this[1]=e[1]*r+e[5]*s+e[9]*i,this[2]=e[2]*r+e[6]*s+e[10]*i,this.normalize()}}const Fe=new X;let _t=1,zt=1,Re=!1;class Ct{constructor(e,r={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=r,this.id=_t++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let s in r)this.addAttribute(s,r[s])}addAttribute(e,r){if(this.attributes[e]=r,r.id=zt++,r.size=r.size||1,r.type=r.type||(r.data.constructor===Float32Array?this.gl.FLOAT:r.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),r.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,r.normalized=r.normalized||!1,r.stride=r.stride||0,r.offset=r.offset||0,r.count=r.count||(r.stride?r.data.byteLength/r.stride:r.data.length/r.size),r.divisor=r.instanced||0,r.needsUpdate=!1,r.usage=r.usage||this.gl.STATIC_DRAW,r.buffer||this.updateAttribute(r),r.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==r.count*r.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,r.count*r.divisor);this.instancedCount=r.count*r.divisor}else e==="index"?this.drawRange.count=r.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,r.count))}updateAttribute(e){const r=!e.buffer;r&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),r?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,r){this.drawRange.start=e,this.drawRange.count=r}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((r,{name:s,type:i})=>{if(!this.attributes[s]){console.warn(`active attribute ${s} not being supplied`);return}const n=this.attributes[s];this.gl.bindBuffer(n.target,n.buffer),this.glState.boundBuffer=n.buffer;let a=1;i===35674&&(a=2),i===35675&&(a=3),i===35676&&(a=4);const l=n.size/a,o=a===1?0:a*a*4,c=a===1?0:a*4;for(let h=0;h<a;h++)this.gl.vertexAttribPointer(r+h,l,n.type,n.normalized,n.stride+o,n.offset+h*c),this.gl.enableVertexAttribArray(r+h),this.gl.renderer.vertexAttribDivisor(r+h,n.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:r=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((i,{name:n})=>{const a=this.attributes[n];a.needsUpdate&&this.updateAttribute(a)});let s=2;this.attributes.index?.type===this.gl.UNSIGNED_INT&&(s=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(r,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*s,this.instancedCount):this.gl.renderer.drawArraysInstanced(r,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(r,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*s):this.gl.drawArrays(r,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!Re)return console.warn("No position buffer data found to compute bounds"),Re=!0}computeBoundingBox(e){e||(e=this.getPosition());const r=e.data,s=e.size;this.bounds||(this.bounds={min:new X,max:new X,center:new X,scale:new X,radius:1/0});const i=this.bounds.min,n=this.bounds.max,a=this.bounds.center,l=this.bounds.scale;i.set(1/0),n.set(-1/0);for(let o=0,c=r.length;o<c;o+=s){const h=r[o],d=r[o+1],f=r[o+2];i.x=Math.min(h,i.x),i.y=Math.min(d,i.y),i.z=Math.min(f,i.z),n.x=Math.max(h,n.x),n.y=Math.max(d,n.y),n.z=Math.max(f,n.z)}l.sub(n,i),a.add(i,n).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const r=e.data,s=e.size;this.bounds||this.computeBoundingBox(e);let i=0;for(let n=0,a=r.length;n<a;n+=s)Fe.fromArray(r,n),i=Math.max(i,this.bounds.center.squaredDistance(Fe));this.bounds.radius=Math.sqrt(i)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let St=1;const Te={};class Ft{constructor(e,{vertex:r,fragment:s,uniforms:i={},transparent:n=!1,cullFace:a=e.BACK,frontFace:l=e.CCW,depthTest:o=!0,depthWrite:c=!0,depthFunc:h=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=i,this.id=St++,r||console.warn("vertex shader not supplied"),s||console.warn("fragment shader not supplied"),this.transparent=n,this.cullFace=a,this.frontFace=l,this.depthTest=o,this.depthWrite=c,this.depthFunc=h,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:r,fragment:s})}setShaders({vertex:e,fragment:r}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${Ie(e)}`)),r&&(this.gl.shaderSource(this.fragmentShader,r),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${Ie(r)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let s=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let a=0;a<s;a++){let l=this.gl.getActiveUniform(this.program,a);this.uniformLocations.set(l,this.gl.getUniformLocation(this.program,l.name));const o=l.name.match(/(\w+)/g);l.uniformName=o[0],l.nameComponents=o.slice(1)}this.attributeLocations=new Map;const i=[],n=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let a=0;a<n;a++){const l=this.gl.getActiveAttrib(this.program,a),o=this.gl.getAttribLocation(this.program,l.name);o!==-1&&(i[o]=l.name,this.attributeLocations.set(l,o))}this.attributeOrder=i.join("")}setBlendFunc(e,r,s,i){this.blendFunc.src=e,this.blendFunc.dst=r,this.blendFunc.srcAlpha=s,this.blendFunc.dstAlpha=i,e&&(this.transparent=!0)}setBlendEquation(e,r){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=r}setStencilFunc(e,r,s){this.stencilRef=r,this.stencilFunc.func=e,this.stencilFunc.ref=r,this.stencilFunc.mask=s}setStencilOp(e,r,s){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=r,this.stencilOp.depthPass=s}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let r=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((i,n)=>{let a=this.uniforms[n.uniformName];for(const l of n.nameComponents){if(!a)break;if(l in a)a=a[l];else{if(Array.isArray(a.value))break;a=void 0;break}}if(!a)return Le(`Active uniform ${n.name} has not been supplied`);if(a&&a.value===void 0)return Le(`${n.name} uniform is missing a value parameter`);if(a.value.texture)return r=r+1,a.value.update(r),pe(this.gl,n.type,i,r);if(a.value.length&&a.value[0].texture){const l=[];return a.value.forEach(o=>{r=r+1,o.update(r),l.push(r)}),pe(this.gl,n.type,i,l)}pe(this.gl,n.type,i,a.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function pe(t,e,r,s){s=s.length?Rt(s):s;const i=t.renderer.state.uniformLocations.get(r);if(s.length)if(i===void 0||i.length!==s.length)t.renderer.state.uniformLocations.set(r,s.slice(0));else{if(Tt(i,s))return;i.set?i.set(s):It(i,s),t.renderer.state.uniformLocations.set(r,i)}else{if(i===s)return;t.renderer.state.uniformLocations.set(r,s)}switch(e){case 5126:return s.length?t.uniform1fv(r,s):t.uniform1f(r,s);case 35664:return t.uniform2fv(r,s);case 35665:return t.uniform3fv(r,s);case 35666:return t.uniform4fv(r,s);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return s.length?t.uniform1iv(r,s):t.uniform1i(r,s);case 35671:case 35667:return t.uniform2iv(r,s);case 35672:case 35668:return t.uniform3iv(r,s);case 35673:case 35669:return t.uniform4iv(r,s);case 35674:return t.uniformMatrix2fv(r,!1,s);case 35675:return t.uniformMatrix3fv(r,!1,s);case 35676:return t.uniformMatrix4fv(r,!1,s)}}function Ie(t){let e=t.split(`
`);for(let r=0;r<e.length;r++)e[r]=r+1+": "+e[r];return e.join(`
`)}function Rt(t){const e=t.length,r=t[0].length;if(r===void 0)return t;const s=e*r;let i=Te[s];i||(Te[s]=i=new Float32Array(s));for(let n=0;n<e;n++)i.set(t[n],n*r);return i}function Tt(t,e){if(t.length!==e.length)return!1;for(let r=0,s=t.length;r<s;r++)if(t[r]!==e[r])return!1;return!0}function It(t,e){for(let r=0,s=t.length;r<s;r++)t[r]=e[r]}let ge=0;function Le(t){ge>100||(console.warn(t),ge++,ge>100&&console.warn("More than 100 program warnings - stopping logs."))}const me=new X;let Lt=1;class Ot{constructor({canvas:e=document.createElement("canvas"),width:r=300,height:s=150,dpr:i=1,alpha:n=!1,depth:a=!0,stencil:l=!1,antialias:o=!1,premultipliedAlpha:c=!1,preserveDrawingBuffer:h=!1,powerPreference:d="default",autoClear:f=!0,webgl:p=2}={}){const u={alpha:n,depth:a,stencil:l,antialias:o,premultipliedAlpha:c,preserveDrawingBuffer:h,powerPreference:d};this.dpr=i,this.alpha=n,this.color=!0,this.depth=a,this.stencil=l,this.premultipliedAlpha=c,this.autoClear=f,this.id=Lt++,p===2&&(this.gl=e.getContext("webgl2",u)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",u)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(r,s),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,r){this.width=e,this.height=r,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=r*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:r+"px"})}setViewport(e,r,s=0,i=0){this.state.viewport.width===e&&this.state.viewport.height===r||(this.state.viewport.width=e,this.state.viewport.height=r,this.state.viewport.x=s,this.state.viewport.y=i,this.gl.viewport(s,i,e,r))}setScissor(e,r,s=0,i=0){this.gl.scissor(s,i,e,r)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,r,s,i){this.state.blendFunc.src===e&&this.state.blendFunc.dst===r&&this.state.blendFunc.srcAlpha===s&&this.state.blendFunc.dstAlpha===i||(this.state.blendFunc.src=e,this.state.blendFunc.dst=r,this.state.blendFunc.srcAlpha=s,this.state.blendFunc.dstAlpha=i,s!==void 0?this.gl.blendFuncSeparate(e,r,s,i):this.gl.blendFunc(e,r))}setBlendEquation(e,r){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===r)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=r,r!==void 0?this.gl.blendEquationSeparate(e,r):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,r,s){this.state.stencilFunc===e&&this.state.stencilRef===r&&this.state.stencilFuncMask===s||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=r||0,this.state.stencilFuncMask=s||0,this.gl.stencilFunc(e||this.gl.ALWAYS,r||0,s||0))}setStencilOp(e,r,s){this.state.stencilFail===e&&this.state.stencilDepthFail===r&&this.state.stencilDepthPass===s||(this.state.stencilFail=e,this.state.stencilDepthFail=r,this.state.stencilDepthPass=s,this.gl.stencilOp(e,r,s))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:r=null}={}){this.state.framebuffer!==r&&(this.state.framebuffer=r,this.gl.bindFramebuffer(e,r))}getExtension(e,r,s){return r&&this.gl[r]?this.gl[r].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),r?this.extensions[e]?this.extensions[e][s].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,r){return e.renderOrder!==r.renderOrder?e.renderOrder-r.renderOrder:e.program.id!==r.program.id?e.program.id-r.program.id:e.zDepth!==r.zDepth?e.zDepth-r.zDepth:r.id-e.id}sortTransparent(e,r){return e.renderOrder!==r.renderOrder?e.renderOrder-r.renderOrder:e.zDepth!==r.zDepth?r.zDepth-e.zDepth:r.id-e.id}sortUI(e,r){return e.renderOrder!==r.renderOrder?e.renderOrder-r.renderOrder:e.program.id!==r.program.id?e.program.id-r.program.id:r.id-e.id}getRenderList({scene:e,camera:r,frustumCull:s,sort:i}){let n=[];if(r&&s&&r.updateFrustum(),e.traverse(a=>{if(!a.visible)return!0;a.draw&&(s&&a.frustumCulled&&r&&!r.frustumIntersectsMesh(a)||n.push(a))}),i){const a=[],l=[],o=[];n.forEach(c=>{c.program.transparent?c.program.depthTest?l.push(c):o.push(c):a.push(c),c.zDepth=0,!(c.renderOrder!==0||!c.program.depthTest||!r)&&(c.worldMatrix.getTranslation(me),me.applyMatrix4(r.projectionViewMatrix),c.zDepth=me.z)}),a.sort(this.sortOpaque),l.sort(this.sortTransparent),o.sort(this.sortUI),n=a.concat(l,o)}return n}render({scene:e,camera:r,target:s=null,update:i=!0,sort:n=!0,frustumCull:a=!0,clear:l}){s===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(s),this.setViewport(s.width,s.height)),(l||this.autoClear&&l!==!1)&&(this.depth&&(!s||s.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!s||s.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),i&&e.updateMatrixWorld(),r&&r.updateMatrixWorld(),this.getRenderList({scene:e,camera:r,frustumCull:a,sort:n}).forEach(c=>{c.draw({camera:r})})}}function Pt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Nt(t,e,r,s,i){return t[0]=e,t[1]=r,t[2]=s,t[3]=i,t}function Bt(t,e){let r=e[0],s=e[1],i=e[2],n=e[3],a=r*r+s*s+i*i+n*n;return a>0&&(a=1/Math.sqrt(a)),t[0]=r*a,t[1]=s*a,t[2]=i*a,t[3]=n*a,t}function Dt(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Gt(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Ut(t,e,r){r=r*.5;let s=Math.sin(r);return t[0]=s*e[0],t[1]=s*e[1],t[2]=s*e[2],t[3]=Math.cos(r),t}function Oe(t,e,r){let s=e[0],i=e[1],n=e[2],a=e[3],l=r[0],o=r[1],c=r[2],h=r[3];return t[0]=s*h+a*l+i*c-n*o,t[1]=i*h+a*o+n*l-s*c,t[2]=n*h+a*c+s*o-i*l,t[3]=a*h-s*l-i*o-n*c,t}function Vt(t,e,r){r*=.5;let s=e[0],i=e[1],n=e[2],a=e[3],l=Math.sin(r),o=Math.cos(r);return t[0]=s*o+a*l,t[1]=i*o+n*l,t[2]=n*o-i*l,t[3]=a*o-s*l,t}function jt(t,e,r){r*=.5;let s=e[0],i=e[1],n=e[2],a=e[3],l=Math.sin(r),o=Math.cos(r);return t[0]=s*o-n*l,t[1]=i*o+a*l,t[2]=n*o+s*l,t[3]=a*o-i*l,t}function $t(t,e,r){r*=.5;let s=e[0],i=e[1],n=e[2],a=e[3],l=Math.sin(r),o=Math.cos(r);return t[0]=s*o+i*l,t[1]=i*o-s*l,t[2]=n*o+a*l,t[3]=a*o-n*l,t}function qt(t,e,r,s){let i=e[0],n=e[1],a=e[2],l=e[3],o=r[0],c=r[1],h=r[2],d=r[3],f,p,u,g,m;return p=i*o+n*c+a*h+l*d,p<0&&(p=-p,o=-o,c=-c,h=-h,d=-d),1-p>1e-6?(f=Math.acos(p),u=Math.sin(f),g=Math.sin((1-s)*f)/u,m=Math.sin(s*f)/u):(g=1-s,m=s),t[0]=g*i+m*o,t[1]=g*n+m*c,t[2]=g*a+m*h,t[3]=g*l+m*d,t}function Wt(t,e){let r=e[0],s=e[1],i=e[2],n=e[3],a=r*r+s*s+i*i+n*n,l=a?1/a:0;return t[0]=-r*l,t[1]=-s*l,t[2]=-i*l,t[3]=n*l,t}function Xt(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Yt(t,e){let r=e[0]+e[4]+e[8],s;if(r>0)s=Math.sqrt(r+1),t[3]=.5*s,s=.5/s,t[0]=(e[5]-e[7])*s,t[1]=(e[6]-e[2])*s,t[2]=(e[1]-e[3])*s;else{let i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);let n=(i+1)%3,a=(i+2)%3;s=Math.sqrt(e[i*3+i]-e[n*3+n]-e[a*3+a]+1),t[i]=.5*s,s=.5/s,t[3]=(e[n*3+a]-e[a*3+n])*s,t[n]=(e[n*3+i]+e[i*3+n])*s,t[a]=(e[a*3+i]+e[i*3+a])*s}return t}function Zt(t,e,r="YXZ"){let s=Math.sin(e[0]*.5),i=Math.cos(e[0]*.5),n=Math.sin(e[1]*.5),a=Math.cos(e[1]*.5),l=Math.sin(e[2]*.5),o=Math.cos(e[2]*.5);return r==="XYZ"?(t[0]=s*a*o+i*n*l,t[1]=i*n*o-s*a*l,t[2]=i*a*l+s*n*o,t[3]=i*a*o-s*n*l):r==="YXZ"?(t[0]=s*a*o+i*n*l,t[1]=i*n*o-s*a*l,t[2]=i*a*l-s*n*o,t[3]=i*a*o+s*n*l):r==="ZXY"?(t[0]=s*a*o-i*n*l,t[1]=i*n*o+s*a*l,t[2]=i*a*l+s*n*o,t[3]=i*a*o-s*n*l):r==="ZYX"?(t[0]=s*a*o-i*n*l,t[1]=i*n*o+s*a*l,t[2]=i*a*l-s*n*o,t[3]=i*a*o+s*n*l):r==="YZX"?(t[0]=s*a*o+i*n*l,t[1]=i*n*o+s*a*l,t[2]=i*a*l-s*n*o,t[3]=i*a*o-s*n*l):r==="XZY"&&(t[0]=s*a*o-i*n*l,t[1]=i*n*o-s*a*l,t[2]=i*a*l+s*n*o,t[3]=i*a*o+s*n*l),t}const Ht=Pt,Qt=Nt,Kt=Dt,Jt=Bt;class er extends Array{constructor(e=0,r=0,s=0,i=1){super(e,r,s,i),this.onChange=()=>{},this._target=this;const n=["0","1","2","3"];return new Proxy(this,{set(a,l){const o=Reflect.set(...arguments);return o&&n.includes(l)&&a.onChange(),o}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return Gt(this._target),this.onChange(),this}set(e,r,s,i){return e.length?this.copy(e):(Qt(this._target,e,r,s,i),this.onChange(),this)}rotateX(e){return Vt(this._target,this._target,e),this.onChange(),this}rotateY(e){return jt(this._target,this._target,e),this.onChange(),this}rotateZ(e){return $t(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return Wt(this._target,e),this.onChange(),this}conjugate(e=this._target){return Xt(this._target,e),this.onChange(),this}copy(e){return Ht(this._target,e),this.onChange(),this}normalize(e=this._target){return Jt(this._target,e),this.onChange(),this}multiply(e,r){return r?Oe(this._target,e,r):Oe(this._target,this._target,e),this.onChange(),this}dot(e){return Kt(this._target,e)}fromMatrix3(e){return Yt(this._target,e),this.onChange(),this}fromEuler(e,r){return Zt(this._target,e,e.order),r||this.onChange(),this}fromAxisAngle(e,r){return Ut(this._target,e,r),this.onChange(),this}slerp(e,r){return qt(this._target,this._target,e,r),this.onChange(),this}fromArray(e,r=0){return this._target[0]=e[r],this._target[1]=e[r+1],this._target[2]=e[r+2],this._target[3]=e[r+3],this.onChange(),this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e[r+2]=this[2],e[r+3]=this[3],e}}const tr=1e-6;function rr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function sr(t,e,r,s,i,n,a,l,o,c,h,d,f,p,u,g,m){return t[0]=e,t[1]=r,t[2]=s,t[3]=i,t[4]=n,t[5]=a,t[6]=l,t[7]=o,t[8]=c,t[9]=h,t[10]=d,t[11]=f,t[12]=p,t[13]=u,t[14]=g,t[15]=m,t}function ir(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function nr(t,e){let r=e[0],s=e[1],i=e[2],n=e[3],a=e[4],l=e[5],o=e[6],c=e[7],h=e[8],d=e[9],f=e[10],p=e[11],u=e[12],g=e[13],m=e[14],b=e[15],z=r*l-s*a,E=r*o-i*a,v=r*c-n*a,M=s*o-i*l,A=s*c-n*l,S=i*c-n*o,x=h*g-d*u,F=h*m-f*u,T=h*b-p*u,I=d*m-f*g,R=d*b-p*g,O=f*b-p*m,_=z*O-E*R+v*I+M*T-A*F+S*x;return _?(_=1/_,t[0]=(l*O-o*R+c*I)*_,t[1]=(i*R-s*O-n*I)*_,t[2]=(g*S-m*A+b*M)*_,t[3]=(f*A-d*S-p*M)*_,t[4]=(o*T-a*O-c*F)*_,t[5]=(r*O-i*T+n*F)*_,t[6]=(m*v-u*S-b*E)*_,t[7]=(h*S-f*v+p*E)*_,t[8]=(a*R-l*T+c*x)*_,t[9]=(s*T-r*R-n*x)*_,t[10]=(u*A-g*v+b*z)*_,t[11]=(d*v-h*A-p*z)*_,t[12]=(l*F-a*I-o*x)*_,t[13]=(r*I-s*F+i*x)*_,t[14]=(g*E-u*M-m*z)*_,t[15]=(h*M-d*E+f*z)*_,t):null}function Ze(t){let e=t[0],r=t[1],s=t[2],i=t[3],n=t[4],a=t[5],l=t[6],o=t[7],c=t[8],h=t[9],d=t[10],f=t[11],p=t[12],u=t[13],g=t[14],m=t[15],b=e*a-r*n,z=e*l-s*n,E=e*o-i*n,v=r*l-s*a,M=r*o-i*a,A=s*o-i*l,S=c*u-h*p,x=c*g-d*p,F=c*m-f*p,T=h*g-d*u,I=h*m-f*u,R=d*m-f*g;return b*R-z*I+E*T+v*F-M*x+A*S}function Pe(t,e,r){let s=e[0],i=e[1],n=e[2],a=e[3],l=e[4],o=e[5],c=e[6],h=e[7],d=e[8],f=e[9],p=e[10],u=e[11],g=e[12],m=e[13],b=e[14],z=e[15],E=r[0],v=r[1],M=r[2],A=r[3];return t[0]=E*s+v*l+M*d+A*g,t[1]=E*i+v*o+M*f+A*m,t[2]=E*n+v*c+M*p+A*b,t[3]=E*a+v*h+M*u+A*z,E=r[4],v=r[5],M=r[6],A=r[7],t[4]=E*s+v*l+M*d+A*g,t[5]=E*i+v*o+M*f+A*m,t[6]=E*n+v*c+M*p+A*b,t[7]=E*a+v*h+M*u+A*z,E=r[8],v=r[9],M=r[10],A=r[11],t[8]=E*s+v*l+M*d+A*g,t[9]=E*i+v*o+M*f+A*m,t[10]=E*n+v*c+M*p+A*b,t[11]=E*a+v*h+M*u+A*z,E=r[12],v=r[13],M=r[14],A=r[15],t[12]=E*s+v*l+M*d+A*g,t[13]=E*i+v*o+M*f+A*m,t[14]=E*n+v*c+M*p+A*b,t[15]=E*a+v*h+M*u+A*z,t}function ar(t,e,r){let s=r[0],i=r[1],n=r[2],a,l,o,c,h,d,f,p,u,g,m,b;return e===t?(t[12]=e[0]*s+e[4]*i+e[8]*n+e[12],t[13]=e[1]*s+e[5]*i+e[9]*n+e[13],t[14]=e[2]*s+e[6]*i+e[10]*n+e[14],t[15]=e[3]*s+e[7]*i+e[11]*n+e[15]):(a=e[0],l=e[1],o=e[2],c=e[3],h=e[4],d=e[5],f=e[6],p=e[7],u=e[8],g=e[9],m=e[10],b=e[11],t[0]=a,t[1]=l,t[2]=o,t[3]=c,t[4]=h,t[5]=d,t[6]=f,t[7]=p,t[8]=u,t[9]=g,t[10]=m,t[11]=b,t[12]=a*s+h*i+u*n+e[12],t[13]=l*s+d*i+g*n+e[13],t[14]=o*s+f*i+m*n+e[14],t[15]=c*s+p*i+b*n+e[15]),t}function or(t,e,r){let s=r[0],i=r[1],n=r[2];return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t[3]=e[3]*s,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function lr(t,e,r,s){let i=s[0],n=s[1],a=s[2],l=Math.hypot(i,n,a),o,c,h,d,f,p,u,g,m,b,z,E,v,M,A,S,x,F,T,I,R,O,_,j;return Math.abs(l)<tr?null:(l=1/l,i*=l,n*=l,a*=l,o=Math.sin(r),c=Math.cos(r),h=1-c,d=e[0],f=e[1],p=e[2],u=e[3],g=e[4],m=e[5],b=e[6],z=e[7],E=e[8],v=e[9],M=e[10],A=e[11],S=i*i*h+c,x=n*i*h+a*o,F=a*i*h-n*o,T=i*n*h-a*o,I=n*n*h+c,R=a*n*h+i*o,O=i*a*h+n*o,_=n*a*h-i*o,j=a*a*h+c,t[0]=d*S+g*x+E*F,t[1]=f*S+m*x+v*F,t[2]=p*S+b*x+M*F,t[3]=u*S+z*x+A*F,t[4]=d*T+g*I+E*R,t[5]=f*T+m*I+v*R,t[6]=p*T+b*I+M*R,t[7]=u*T+z*I+A*R,t[8]=d*O+g*_+E*j,t[9]=f*O+m*_+v*j,t[10]=p*O+b*_+M*j,t[11]=u*O+z*_+A*j,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function cr(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function He(t,e){let r=e[0],s=e[1],i=e[2],n=e[4],a=e[5],l=e[6],o=e[8],c=e[9],h=e[10];return t[0]=Math.hypot(r,s,i),t[1]=Math.hypot(n,a,l),t[2]=Math.hypot(o,c,h),t}function hr(t){let e=t[0],r=t[1],s=t[2],i=t[4],n=t[5],a=t[6],l=t[8],o=t[9],c=t[10];const h=e*e+r*r+s*s,d=i*i+n*n+a*a,f=l*l+o*o+c*c;return Math.sqrt(Math.max(h,d,f))}const Qe=(function(){const t=[1,1,1];return function(e,r){let s=t;He(s,r);let i=1/s[0],n=1/s[1],a=1/s[2],l=r[0]*i,o=r[1]*n,c=r[2]*a,h=r[4]*i,d=r[5]*n,f=r[6]*a,p=r[8]*i,u=r[9]*n,g=r[10]*a,m=l+d+g,b=0;return m>0?(b=Math.sqrt(m+1)*2,e[3]=.25*b,e[0]=(f-u)/b,e[1]=(p-c)/b,e[2]=(o-h)/b):l>d&&l>g?(b=Math.sqrt(1+l-d-g)*2,e[3]=(f-u)/b,e[0]=.25*b,e[1]=(o+h)/b,e[2]=(p+c)/b):d>g?(b=Math.sqrt(1+d-l-g)*2,e[3]=(p-c)/b,e[0]=(o+h)/b,e[1]=.25*b,e[2]=(f+u)/b):(b=Math.sqrt(1+g-l-d)*2,e[3]=(o-h)/b,e[0]=(p+c)/b,e[1]=(f+u)/b,e[2]=.25*b),e}})();function dr(t,e,r,s){let i=oe([t[0],t[1],t[2]]);const n=oe([t[4],t[5],t[6]]),a=oe([t[8],t[9],t[10]]);Ze(t)<0&&(i=-i),r[0]=t[12],r[1]=t[13],r[2]=t[14];const o=t.slice(),c=1/i,h=1/n,d=1/a;o[0]*=c,o[1]*=c,o[2]*=c,o[4]*=h,o[5]*=h,o[6]*=h,o[8]*=d,o[9]*=d,o[10]*=d,Qe(e,o),s[0]=i,s[1]=n,s[2]=a}function fr(t,e,r,s){const i=t,n=e[0],a=e[1],l=e[2],o=e[3],c=n+n,h=a+a,d=l+l,f=n*c,p=n*h,u=n*d,g=a*h,m=a*d,b=l*d,z=o*c,E=o*h,v=o*d,M=s[0],A=s[1],S=s[2];return i[0]=(1-(g+b))*M,i[1]=(p+v)*M,i[2]=(u-E)*M,i[3]=0,i[4]=(p-v)*A,i[5]=(1-(f+b))*A,i[6]=(m+z)*A,i[7]=0,i[8]=(u+E)*S,i[9]=(m-z)*S,i[10]=(1-(f+g))*S,i[11]=0,i[12]=r[0],i[13]=r[1],i[14]=r[2],i[15]=1,i}function ur(t,e){let r=e[0],s=e[1],i=e[2],n=e[3],a=r+r,l=s+s,o=i+i,c=r*a,h=s*a,d=s*l,f=i*a,p=i*l,u=i*o,g=n*a,m=n*l,b=n*o;return t[0]=1-d-u,t[1]=h+b,t[2]=f-m,t[3]=0,t[4]=h-b,t[5]=1-c-u,t[6]=p+g,t[7]=0,t[8]=f+m,t[9]=p-g,t[10]=1-c-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function pr(t,e,r,s,i){let n=1/Math.tan(e/2),a=1/(s-i);return t[0]=n/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+s)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*s*a,t[15]=0,t}function gr(t,e,r,s,i,n,a){let l=1/(e-r),o=1/(s-i),c=1/(n-a);return t[0]=-2*l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+r)*l,t[13]=(i+s)*o,t[14]=(a+n)*c,t[15]=1,t}function mr(t,e,r,s){let i=e[0],n=e[1],a=e[2],l=s[0],o=s[1],c=s[2],h=i-r[0],d=n-r[1],f=a-r[2],p=h*h+d*d+f*f;p===0?f=1:(p=1/Math.sqrt(p),h*=p,d*=p,f*=p);let u=o*f-c*d,g=c*h-l*f,m=l*d-o*h;return p=u*u+g*g+m*m,p===0&&(c?l+=1e-6:o?c+=1e-6:o+=1e-6,u=o*f-c*d,g=c*h-l*f,m=l*d-o*h,p=u*u+g*g+m*m),p=1/Math.sqrt(p),u*=p,g*=p,m*=p,t[0]=u,t[1]=g,t[2]=m,t[3]=0,t[4]=d*m-f*g,t[5]=f*u-h*m,t[6]=h*g-d*u,t[7]=0,t[8]=h,t[9]=d,t[10]=f,t[11]=0,t[12]=i,t[13]=n,t[14]=a,t[15]=1,t}function Ne(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t}function Be(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}function br(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t}class de extends Array{constructor(e=1,r=0,s=0,i=0,n=0,a=1,l=0,o=0,c=0,h=0,d=1,f=0,p=0,u=0,g=0,m=1){return super(e,r,s,i,n,a,l,o,c,h,d,f,p,u,g,m),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,r,s,i,n,a,l,o,c,h,d,f,p,u,g,m){return e.length?this.copy(e):(sr(this,e,r,s,i,n,a,l,o,c,h,d,f,p,u,g,m),this)}translate(e,r=this){return ar(this,r,e),this}rotate(e,r,s=this){return lr(this,s,e,r),this}scale(e,r=this){return or(this,r,typeof e=="number"?[e,e,e]:e),this}add(e,r){return r?Ne(this,e,r):Ne(this,this,e),this}sub(e,r){return r?Be(this,e,r):Be(this,this,e),this}multiply(e,r){return e.length?r?Pe(this,e,r):Pe(this,this,e):br(this,this,e),this}identity(){return ir(this),this}copy(e){return rr(this,e),this}fromPerspective({fov:e,aspect:r,near:s,far:i}={}){return pr(this,e,r,s,i),this}fromOrthogonal({left:e,right:r,bottom:s,top:i,near:n,far:a}){return gr(this,e,r,s,i,n,a),this}fromQuaternion(e){return ur(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return nr(this,e),this}compose(e,r,s){return fr(this,e,r,s),this}decompose(e,r,s){return dr(this,e,r,s),this}getRotation(e){return Qe(e,this),this}getTranslation(e){return cr(e,this),this}getScaling(e){return He(e,this),this}getMaxScaleOnAxis(){return hr(this)}lookAt(e,r,s){return mr(this,e,r,s),this}determinant(){return Ze(this)}fromArray(e,r=0){return this[0]=e[r],this[1]=e[r+1],this[2]=e[r+2],this[3]=e[r+3],this[4]=e[r+4],this[5]=e[r+5],this[6]=e[r+6],this[7]=e[r+7],this[8]=e[r+8],this[9]=e[r+9],this[10]=e[r+10],this[11]=e[r+11],this[12]=e[r+12],this[13]=e[r+13],this[14]=e[r+14],this[15]=e[r+15],this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e[r+2]=this[2],e[r+3]=this[3],e[r+4]=this[4],e[r+5]=this[5],e[r+6]=this[6],e[r+7]=this[7],e[r+8]=this[8],e[r+9]=this[9],e[r+10]=this[10],e[r+11]=this[11],e[r+12]=this[12],e[r+13]=this[13],e[r+14]=this[14],e[r+15]=this[15],e}}function xr(t,e,r="YXZ"){return r==="XYZ"?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):r==="YXZ"?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):r==="ZXY"?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):r==="ZYX"?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):r==="YZX"?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):r==="XZY"&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0)),t}const De=new de;class yr extends Array{constructor(e=0,r=e,s=e,i="YXZ"){super(e,r,s),this.order=i,this.onChange=()=>{},this._target=this;const n=["0","1","2"];return new Proxy(this,{set(a,l){const o=Reflect.set(...arguments);return o&&n.includes(l)&&a.onChange(),o}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,r=e,s=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=r,this._target[2]=s,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,r=this.order){return xr(this._target,e,r),this.onChange(),this}fromQuaternion(e,r=this.order,s){return De.fromQuaternion(e),this._target.fromRotationMatrix(De,r),s||this.onChange(),this}fromArray(e,r=0){return this._target[0]=e[r],this._target[1]=e[r+1],this._target[2]=e[r+2],this}toArray(e=[],r=0){return e[r]=this[0],e[r+1]=this[1],e[r+2]=this[2],e}}class wr{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new de,this.worldMatrix=new de,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new X,this.quaternion=new er,this.scale=new X(1),this.rotation=new yr,this.up=new X(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,r=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,r&&e&&e.addChild(this,!1)}addChild(e,r=!0){~this.children.indexOf(e)||this.children.push(e),r&&e.setParent(this,!1)}removeChild(e,r=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),r&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let r=0,s=this.children.length;r<s;r++)this.children[r].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let r=0,s=this.children.length;r<s;r++)this.children[r].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,r=!1){r?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function vr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function Mr(t,e){let r=e[0],s=e[1],i=e[2],n=e[3],a=r+r,l=s+s,o=i+i,c=r*a,h=s*a,d=s*l,f=i*a,p=i*l,u=i*o,g=n*a,m=n*l,b=n*o;return t[0]=1-d-u,t[3]=h-b,t[6]=f+m,t[1]=h+b,t[4]=1-c-u,t[7]=p-g,t[2]=f-m,t[5]=p+g,t[8]=1-c-d,t}function kr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Ar(t,e,r,s,i,n,a,l,o,c){return t[0]=e,t[1]=r,t[2]=s,t[3]=i,t[4]=n,t[5]=a,t[6]=l,t[7]=o,t[8]=c,t}function Er(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function _r(t,e){let r=e[0],s=e[1],i=e[2],n=e[3],a=e[4],l=e[5],o=e[6],c=e[7],h=e[8],d=h*a-l*c,f=-h*n+l*o,p=c*n-a*o,u=r*d+s*f+i*p;return u?(u=1/u,t[0]=d*u,t[1]=(-h*s+i*c)*u,t[2]=(l*s-i*a)*u,t[3]=f*u,t[4]=(h*r-i*o)*u,t[5]=(-l*r+i*n)*u,t[6]=p*u,t[7]=(-c*r+s*o)*u,t[8]=(a*r-s*n)*u,t):null}function Ge(t,e,r){let s=e[0],i=e[1],n=e[2],a=e[3],l=e[4],o=e[5],c=e[6],h=e[7],d=e[8],f=r[0],p=r[1],u=r[2],g=r[3],m=r[4],b=r[5],z=r[6],E=r[7],v=r[8];return t[0]=f*s+p*a+u*c,t[1]=f*i+p*l+u*h,t[2]=f*n+p*o+u*d,t[3]=g*s+m*a+b*c,t[4]=g*i+m*l+b*h,t[5]=g*n+m*o+b*d,t[6]=z*s+E*a+v*c,t[7]=z*i+E*l+v*h,t[8]=z*n+E*o+v*d,t}function zr(t,e,r){let s=e[0],i=e[1],n=e[2],a=e[3],l=e[4],o=e[5],c=e[6],h=e[7],d=e[8],f=r[0],p=r[1];return t[0]=s,t[1]=i,t[2]=n,t[3]=a,t[4]=l,t[5]=o,t[6]=f*s+p*a+c,t[7]=f*i+p*l+h,t[8]=f*n+p*o+d,t}function Cr(t,e,r){let s=e[0],i=e[1],n=e[2],a=e[3],l=e[4],o=e[5],c=e[6],h=e[7],d=e[8],f=Math.sin(r),p=Math.cos(r);return t[0]=p*s+f*a,t[1]=p*i+f*l,t[2]=p*n+f*o,t[3]=p*a-f*s,t[4]=p*l-f*i,t[5]=p*o-f*n,t[6]=c,t[7]=h,t[8]=d,t}function Sr(t,e,r){let s=r[0],i=r[1];return t[0]=s*e[0],t[1]=s*e[1],t[2]=s*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Fr(t,e){let r=e[0],s=e[1],i=e[2],n=e[3],a=e[4],l=e[5],o=e[6],c=e[7],h=e[8],d=e[9],f=e[10],p=e[11],u=e[12],g=e[13],m=e[14],b=e[15],z=r*l-s*a,E=r*o-i*a,v=r*c-n*a,M=s*o-i*l,A=s*c-n*l,S=i*c-n*o,x=h*g-d*u,F=h*m-f*u,T=h*b-p*u,I=d*m-f*g,R=d*b-p*g,O=f*b-p*m,_=z*O-E*R+v*I+M*T-A*F+S*x;return _?(_=1/_,t[0]=(l*O-o*R+c*I)*_,t[1]=(o*T-a*O-c*F)*_,t[2]=(a*R-l*T+c*x)*_,t[3]=(i*R-s*O-n*I)*_,t[4]=(r*O-i*T+n*F)*_,t[5]=(s*T-r*R-n*x)*_,t[6]=(g*S-m*A+b*M)*_,t[7]=(m*v-u*S-b*E)*_,t[8]=(u*A-g*v+b*z)*_,t):null}class Rr extends Array{constructor(e=1,r=0,s=0,i=0,n=1,a=0,l=0,o=0,c=1){return super(e,r,s,i,n,a,l,o,c),this}set(e,r,s,i,n,a,l,o,c){return e.length?this.copy(e):(Ar(this,e,r,s,i,n,a,l,o,c),this)}translate(e,r=this){return zr(this,r,e),this}rotate(e,r=this){return Cr(this,r,e),this}scale(e,r=this){return Sr(this,r,e),this}multiply(e,r){return r?Ge(this,e,r):Ge(this,this,e),this}identity(){return Er(this),this}copy(e){return kr(this,e),this}fromMatrix4(e){return vr(this,e),this}fromQuaternion(e){return Mr(this,e),this}fromBasis(e,r,s){return this.set(e[0],e[1],e[2],r[0],r[1],r[2],s[0],s[1],s[2]),this}inverse(e=this){return _r(this,e),this}getNormalMatrix(e){return Fr(this,e),this}}let Tr=0;class Ir extends wr{constructor(e,{geometry:r,program:s,mode:i=e.TRIANGLES,frustumCulled:n=!0,renderOrder:a=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=Tr++,this.geometry=r,this.program=s,this.mode=i,this.frustumCulled=n,this.renderOrder=a,this.modelViewMatrix=new de,this.normalMatrix=new Rr,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(s=>s&&s({mesh:this,camera:e}));let r=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:r}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(s=>s&&s({mesh:this,camera:e}))}}const Ue={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function Ve(t){t.length===4&&(t=t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e||console.warn(`Unable to convert hex string ${t} to rgb values`),[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255]}function Lr(t){return t=parseInt(t),[(t>>16&255)/255,(t>>8&255)/255,(t&255)/255]}function je(t){return t===void 0?[0,0,0]:arguments.length===3?arguments:isNaN(t)?t[0]==="#"?Ve(t):Ue[t.toLowerCase()]?Ve(Ue[t.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):Lr(t)}class be extends Array{constructor(e){return Array.isArray(e)?super(...e):super(...je(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(e){this[0]=e}set g(e){this[1]=e}set b(e){this[2]=e}set(e){return Array.isArray(e)?this.copy(e):this.copy(je(...arguments))}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this}}class Or extends Ct{constructor(e,{attributes:r={}}={}){Object.assign(r,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,r)}}const Pr=`
attribute vec2 position;
attribute vec2 uv;
varying vec2 vUv;
void main() {
  vUv = uv;
  gl_Position = vec4(position, 0.0, 1.0);
}
`,Nr=`
precision mediump float;

varying vec2 vUv;

uniform float iTime;
uniform vec3  iResolution;
uniform float uScale;

uniform vec2  uGridMul;
uniform float uDigitSize;
uniform float uScanlineIntensity;
uniform float uGlitchAmount;
uniform float uFlickerAmount;
uniform float uNoiseAmp;
uniform float uChromaticAberration;
uniform float uDither;
uniform float uCurvature;
uniform vec3  uTint;
uniform vec2  uMouse;
uniform float uMouseStrength;
uniform float uUseMouse;
uniform float uPageLoadProgress;
uniform float uUsePageLoadAnimation;
uniform float uBrightness;

float time;

float hash21(vec2 p){
  p = fract(p * 234.56);
  p += dot(p, p + 34.56);
  return fract(p.x * p.y);
}

float noise(vec2 p)
{
  return sin(p.x * 10.0) * sin(p.y * (3.0 + sin(time * 0.090909))) + 0.2;
}

mat2 rotate(float angle)
{
  float c = cos(angle);
  float s = sin(angle);
  return mat2(c, -s, s, c);
}

float fbm(vec2 p)
{
  p *= 1.1;
  float f = 0.0;
  float amp = 0.5 * uNoiseAmp;

  mat2 modify0 = rotate(time * 0.02);
  f += amp * noise(p);
  p = modify0 * p * 2.0;
  amp *= 0.454545; // 1/2.2

  mat2 modify1 = rotate(time * 0.02);
  f += amp * noise(p);
  p = modify1 * p * 2.0;
  amp *= 0.454545;

  mat2 modify2 = rotate(time * 0.08);
  f += amp * noise(p);

  return f;
}

float pattern(vec2 p, out vec2 q, out vec2 r) {
  vec2 offset1 = vec2(1.0);
  vec2 offset0 = vec2(0.0);
  mat2 rot01 = rotate(0.1 * time);
  mat2 rot1 = rotate(0.1);

  q = vec2(fbm(p + offset1), fbm(rot01 * p + offset1));
  r = vec2(fbm(rot1 * q + offset0), fbm(q + offset0));
  return fbm(p + r);
}

float digit(vec2 p){
    vec2 grid = uGridMul * 15.0;
    vec2 s = floor(p * grid) / grid;
    p = p * grid;
    vec2 q, r;
    float intensity = pattern(s * 0.1, q, r) * 1.3 - 0.03;

    if(uUseMouse > 0.5){
        vec2 mouseWorld = uMouse * uScale;
        float distToMouse = distance(s, mouseWorld);
        float mouseInfluence = exp(-distToMouse * 8.0) * uMouseStrength * 10.0;
        intensity += mouseInfluence;

        float ripple = sin(distToMouse * 20.0 - iTime * 5.0) * 0.1 * mouseInfluence;
        intensity += ripple;
    }

    if(uUsePageLoadAnimation > 0.5){
        float cellRandom = fract(sin(dot(s, vec2(12.9898, 78.233))) * 43758.5453);
        float cellDelay = cellRandom * 0.8;
        float cellProgress = clamp((uPageLoadProgress - cellDelay) / 0.2, 0.0, 1.0);

        float fadeAlpha = smoothstep(0.0, 1.0, cellProgress);
        intensity *= fadeAlpha;
    }

    p = fract(p);
    p *= uDigitSize;

    float px5 = p.x * 5.0;
    float py5 = (1.0 - p.y) * 5.0;
    float x = fract(px5);
    float y = fract(py5);

    float i = floor(py5) - 2.0;
    float j = floor(px5) - 2.0;
    float n = i * i + j * j;
    float f = n * 0.0625;

    float isOn = step(0.1, intensity - f);
    float brightness = isOn * (0.2 + y * 0.8) * (0.75 + x * 0.25);

    return step(0.0, p.x) * step(p.x, 1.0) * step(0.0, p.y) * step(p.y, 1.0) * brightness;
}

float onOff(float a, float b, float c)
{
  return step(c, sin(iTime + a * cos(iTime * b))) * uFlickerAmount;
}

float displace(vec2 look)
{
    float y = look.y - mod(iTime * 0.25, 1.0);
    float window = 1.0 / (1.0 + 50.0 * y * y);
    return sin(look.y * 20.0 + iTime) * 0.0125 * onOff(4.0, 2.0, 0.8) * (1.0 + cos(iTime * 60.0)) * window;
}

vec3 getColor(vec2 p){

    float bar = step(mod(p.y + time * 20.0, 1.0), 0.2) * 0.4 + 1.0; // more efficient than ternary
    bar *= uScanlineIntensity;

    float displacement = displace(p);
    p.x += displacement;

    if (uGlitchAmount != 1.0) {
      float extra = displacement * (uGlitchAmount - 1.0);
      p.x += extra;
    }

    float middle = digit(p);

    const float off = 0.002;
    float sum = digit(p + vec2(-off, -off)) + digit(p + vec2(0.0, -off)) + digit(p + vec2(off, -off)) +
                digit(p + vec2(-off, 0.0)) + digit(p + vec2(0.0, 0.0)) + digit(p + vec2(off, 0.0)) +
                digit(p + vec2(-off, off)) + digit(p + vec2(0.0, off)) + digit(p + vec2(off, off));

    vec3 baseColor = vec3(0.9) * middle + sum * 0.1 * vec3(1.0) * bar;
    return baseColor;
}

vec2 barrel(vec2 uv){
  vec2 c = uv * 2.0 - 1.0;
  float r2 = dot(c, c);
  c *= 1.0 + uCurvature * r2;
  return c * 0.5 + 0.5;
}

void main() {
    time = iTime * 0.333333;
    vec2 uv = vUv;

    if(uCurvature != 0.0){
      uv = barrel(uv);
    }

    // Correct for aspect ratio to maintain square cells
    vec2 p = uv;
    float aspectRatio = iResolution.x / iResolution.y;
    p.x *= aspectRatio;
    p *= uScale;

    vec3 col = getColor(p);

    if(uChromaticAberration != 0.0){
      vec2 ca = vec2(uChromaticAberration) / iResolution.xy;
      col.r = getColor(p + ca).r;
      col.b = getColor(p - ca).b;
    }

    col *= uTint;
    col *= uBrightness;

    if(uDither > 0.0){
      float rnd = hash21(gl_FragCoord.xy);
      col += (rnd - 0.5) * (uDither * 0.003922);
    }

    gl_FragColor = vec4(col, 1.0);
}
`;function Br(t){let e=t.replace("#","").trim();e.length===3&&(e=e.split("").map(s=>s+s).join(""));const r=parseInt(e,16);return[(r>>16&255)/255,(r>>8&255)/255,(r&255)/255]}function Dr({scale:t=1,gridMul:e=[2,1],digitSize:r=1.5,timeScale:s=.3,pause:i=!1,scanlineIntensity:n=.3,glitchAmount:a=1,flickerAmount:l=1,noiseAmp:o=1,chromaticAberration:c=0,dither:h=0,curvature:d=.2,tint:f="#ffffff",mouseReact:p=!0,mouseStrength:u=.2,dpr:g=Math.min(window.devicePixelRatio||1,2),pageLoadAnimation:m=!0,brightness:b=1,className:z,style:E,...v}){const M=G.useRef(null),A=G.useRef(null),S=G.useRef(null),x=G.useRef({x:.5,y:.5}),F=G.useRef({x:.5,y:.5}),T=G.useRef(0),I=G.useRef(0),R=G.useRef(0),O=G.useRef(Math.random()*100),_=G.useMemo(()=>Br(f),[f]),j=G.useMemo(()=>typeof h=="boolean"?h?1:0:h,[h]),$=G.useCallback(N=>{const k=M.current;if(!k)return;const L=k.getBoundingClientRect(),ee=(N.clientX-L.left)/L.width,q=1-(N.clientY-L.top)/L.height;x.current={x:ee,y:q}},[]);return G.useEffect(()=>{const N=M.current;if(!N)return;const k=new Ot({dpr:g});S.current=k;const L=k.gl;L.clearColor(0,0,0,1);const ee=new Or(L),q=new Ft(L,{vertex:Pr,fragment:Nr,uniforms:{iTime:{value:0},iResolution:{value:new be(L.canvas.width,L.canvas.height,L.canvas.width/L.canvas.height)},uScale:{value:t},uGridMul:{value:new Float32Array(e)},uDigitSize:{value:r},uScanlineIntensity:{value:n},uGlitchAmount:{value:a},uFlickerAmount:{value:l},uNoiseAmp:{value:o},uChromaticAberration:{value:c},uDither:{value:j},uCurvature:{value:d},uTint:{value:new be(_[0],_[1],_[2])},uMouse:{value:new Float32Array([F.current.x,F.current.y])},uMouseStrength:{value:u},uUseMouse:{value:p?1:0},uPageLoadProgress:{value:m?0:1},uUsePageLoadAnimation:{value:m?1:0},uBrightness:{value:b}}});A.current=q;const ne=new Ir(L,{geometry:ee,program:q});function U(){!N||!k||(k.setSize(N.offsetWidth,N.offsetHeight),q.uniforms.iResolution.value=new be(L.canvas.width,L.canvas.height,L.canvas.width/L.canvas.height))}const V=new ResizeObserver(()=>U());V.observe(N),U();const Q=te=>{if(I.current=requestAnimationFrame(Q),m&&R.current===0&&(R.current=te),i)q.uniforms.iTime.value=T.current;else{const P=(te*.001+O.current)*s;q.uniforms.iTime.value=P,T.current=P}if(m&&R.current>0){const W=te-R.current,Y=Math.min(W/2e3,1);q.uniforms.uPageLoadProgress.value=Y}if(p){const W=F.current,Y=x.current;W.x+=(Y.x-W.x)*.08,W.y+=(Y.y-W.y)*.08;const K=q.uniforms.uMouse.value;K[0]=W.x,K[1]=W.y}k.render({scene:ne})};return I.current=requestAnimationFrame(Q),N.appendChild(L.canvas),p&&N.addEventListener("mousemove",$),()=>{cancelAnimationFrame(I.current),V.disconnect(),p&&N.removeEventListener("mousemove",$),L.canvas.parentElement===N&&N.removeChild(L.canvas),L.getExtension("WEBGL_lose_context")?.loseContext(),R.current=0,O.current=Math.random()*100}},[g,i,s,t,e,r,n,a,l,o,c,j,d,_,p,u,m,b,$]),D.jsx("div",{ref:M,className:`w-full h-full relative overflow-hidden ${z}`,style:E,...v})}function Ke(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=Ke(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function Gr(){for(var t,e,r=0,s="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=Ke(t))&&(s&&(s+=" "),s+=e);return s}const Ee="-",Ur=t=>{const e=jr(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:a=>{const l=a.split(Ee);return l[0]===""&&l.length!==1&&l.shift(),Je(l,e)||Vr(a)},getConflictingClassGroupIds:(a,l)=>{const o=r[a]||[];return l&&s[a]?[...o,...s[a]]:o}}},Je=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),i=s?Je(t.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const n=t.join(Ee);return e.validators.find(({validator:a})=>a(n))?.classGroupId},$e=/^\[(.+)\]$/,Vr=t=>{if($e.test(t)){const e=$e.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},jr=t=>{const{theme:e,classGroups:r}=t,s={nextPart:new Map,validators:[]};for(const i in r)Me(r[i],s,i,e);return s},Me=(t,e,r,s)=>{t.forEach(i=>{if(typeof i=="string"){const n=i===""?e:qe(e,i);n.classGroupId=r;return}if(typeof i=="function"){if($r(i)){Me(i(s),e,r,s);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([n,a])=>{Me(a,qe(e,n),r,s)})})},qe=(t,e)=>{let r=t;return e.split(Ee).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},$r=t=>t.isThemeGetter,qr=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,s=new Map;const i=(n,a)=>{r.set(n,a),e++,e>t&&(e=0,s=r,r=new Map)};return{get(n){let a=r.get(n);if(a!==void 0)return a;if((a=s.get(n))!==void 0)return i(n,a),a},set(n,a){r.has(n)?r.set(n,a):i(n,a)}}},ke="!",Ae=":",Wr=Ae.length,Xr=t=>{const{prefix:e,experimentalParseClassName:r}=t;let s=i=>{const n=[];let a=0,l=0,o=0,c;for(let u=0;u<i.length;u++){let g=i[u];if(a===0&&l===0){if(g===Ae){n.push(i.slice(o,u)),o=u+Wr;continue}if(g==="/"){c=u;continue}}g==="["?a++:g==="]"?a--:g==="("?l++:g===")"&&l--}const h=n.length===0?i:i.substring(o),d=Yr(h),f=d!==h,p=c&&c>o?c-o:void 0;return{modifiers:n,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:p}};if(e){const i=e+Ae,n=s;s=a=>a.startsWith(i)?n(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(r){const i=s;s=n=>r({className:n,parseClassName:i})}return s},Yr=t=>t.endsWith(ke)?t.substring(0,t.length-1):t.startsWith(ke)?t.substring(1):t,Zr=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const i=[];let n=[];return s.forEach(a=>{a[0]==="["||e[a]?(i.push(...n.sort(),a),n=[]):n.push(a)}),i.push(...n.sort()),i}},Hr=t=>({cache:qr(t.cacheSize),parseClassName:Xr(t),sortModifiers:Zr(t),...Ur(t)}),Qr=/\s+/,Kr=(t,e)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:i,sortModifiers:n}=e,a=[],l=t.trim().split(Qr);let o="";for(let c=l.length-1;c>=0;c-=1){const h=l[c],{isExternal:d,modifiers:f,hasImportantModifier:p,baseClassName:u,maybePostfixModifierPosition:g}=r(h);if(d){o=h+(o.length>0?" "+o:o);continue}let m=!!g,b=s(m?u.substring(0,g):u);if(!b){if(!m){o=h+(o.length>0?" "+o:o);continue}if(b=s(u),!b){o=h+(o.length>0?" "+o:o);continue}m=!1}const z=n(f).join(":"),E=p?z+ke:z,v=E+b;if(a.includes(v))continue;a.push(v);const M=i(b,m);for(let A=0;A<M.length;++A){const S=M[A];a.push(E+S)}o=h+(o.length>0?" "+o:o)}return o};function Jr(){let t=0,e,r,s="";for(;t<arguments.length;)(e=arguments[t++])&&(r=et(e))&&(s&&(s+=" "),s+=r);return s}const et=t=>{if(typeof t=="string")return t;let e,r="";for(let s=0;s<t.length;s++)t[s]&&(e=et(t[s]))&&(r&&(r+=" "),r+=e);return r};function es(t,...e){let r,s,i,n=a;function a(o){const c=e.reduce((h,d)=>d(h),t());return r=Hr(c),s=r.cache.get,i=r.cache.set,n=l,l(o)}function l(o){const c=s(o);if(c)return c;const h=Kr(o,r);return i(o,h),h}return function(){return n(Jr.apply(null,arguments))}}const B=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},tt=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,rt=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ts=/^\d+\/\d+$/,rs=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ss=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,is=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,ns=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,as=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,re=t=>ts.test(t),C=t=>!!t&&!Number.isNaN(Number(t)),H=t=>!!t&&Number.isInteger(Number(t)),xe=t=>t.endsWith("%")&&C(t.slice(0,-1)),Z=t=>rs.test(t),os=()=>!0,ls=t=>ss.test(t)&&!is.test(t),st=()=>!1,cs=t=>ns.test(t),hs=t=>as.test(t),ds=t=>!y(t)&&!w(t),fs=t=>se(t,at,st),y=t=>tt.test(t),J=t=>se(t,ot,ls),ye=t=>se(t,bs,C),We=t=>se(t,it,st),us=t=>se(t,nt,hs),ce=t=>se(t,lt,cs),w=t=>rt.test(t),ae=t=>ie(t,ot),ps=t=>ie(t,xs),Xe=t=>ie(t,it),gs=t=>ie(t,at),ms=t=>ie(t,nt),he=t=>ie(t,lt,!0),se=(t,e,r)=>{const s=tt.exec(t);return s?s[1]?e(s[1]):r(s[2]):!1},ie=(t,e,r=!1)=>{const s=rt.exec(t);return s?s[1]?e(s[1]):r:!1},it=t=>t==="position"||t==="percentage",nt=t=>t==="image"||t==="url",at=t=>t==="length"||t==="size"||t==="bg-size",ot=t=>t==="length",bs=t=>t==="number",xs=t=>t==="family-name",lt=t=>t==="shadow",ys=()=>{const t=B("color"),e=B("font"),r=B("text"),s=B("font-weight"),i=B("tracking"),n=B("leading"),a=B("breakpoint"),l=B("container"),o=B("spacing"),c=B("radius"),h=B("shadow"),d=B("inset-shadow"),f=B("text-shadow"),p=B("drop-shadow"),u=B("blur"),g=B("perspective"),m=B("aspect"),b=B("ease"),z=B("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],v=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...v(),w,y],A=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],x=()=>[w,y,o],F=()=>[re,"full","auto",...x()],T=()=>[H,"none","subgrid",w,y],I=()=>["auto",{span:["full",H,w,y]},H,w,y],R=()=>[H,"auto",w,y],O=()=>["auto","min","max","fr",w,y],_=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],j=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...x()],N=()=>[re,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...x()],k=()=>[t,w,y],L=()=>[...v(),Xe,We,{position:[w,y]}],ee=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",gs,fs,{size:[w,y]}],ne=()=>[xe,ae,J],U=()=>["","none","full",c,w,y],V=()=>["",C,ae,J],Q=()=>["solid","dashed","dotted","double"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>[C,xe,Xe,We],W=()=>["","none",u,w,y],Y=()=>["none",C,w,y],K=()=>["none",C,w,y],fe=()=>[C,w,y],le=()=>[re,"full",...x()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Z],breakpoint:[Z],color:[os],container:[Z],"drop-shadow":[Z],ease:["in","out","in-out"],font:[ds],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Z],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Z],shadow:[Z],spacing:["px",C],text:[Z],"text-shadow":[Z],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",re,y,w,m]}],container:["container"],columns:[{columns:[C,y,w,l]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:F()}],"inset-x":[{"inset-x":F()}],"inset-y":[{"inset-y":F()}],start:[{start:F()}],end:[{end:F()}],top:[{top:F()}],right:[{right:F()}],bottom:[{bottom:F()}],left:[{left:F()}],visibility:["visible","invisible","collapse"],z:[{z:[H,"auto",w,y]}],basis:[{basis:[re,"full","auto",l,...x()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[C,re,"auto","initial","none",y]}],grow:[{grow:["",C,w,y]}],shrink:[{shrink:["",C,w,y]}],order:[{order:[H,"first","last","none",w,y]}],"grid-cols":[{"grid-cols":T()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":T()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:x()}],"gap-x":[{"gap-x":x()}],"gap-y":[{"gap-y":x()}],"justify-content":[{justify:[..._(),"normal"]}],"justify-items":[{"justify-items":[...j(),"normal"]}],"justify-self":[{"justify-self":["auto",...j()]}],"align-content":[{content:["normal",..._()]}],"align-items":[{items:[...j(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...j(),{baseline:["","last"]}]}],"place-content":[{"place-content":_()}],"place-items":[{"place-items":[...j(),"baseline"]}],"place-self":[{"place-self":["auto",...j()]}],p:[{p:x()}],px:[{px:x()}],py:[{py:x()}],ps:[{ps:x()}],pe:[{pe:x()}],pt:[{pt:x()}],pr:[{pr:x()}],pb:[{pb:x()}],pl:[{pl:x()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":x()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":x()}],"space-y-reverse":["space-y-reverse"],size:[{size:N()}],w:[{w:[l,"screen",...N()]}],"min-w":[{"min-w":[l,"screen","none",...N()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...N()]}],h:[{h:["screen","lh",...N()]}],"min-h":[{"min-h":["screen","lh","none",...N()]}],"max-h":[{"max-h":["screen","lh",...N()]}],"font-size":[{text:["base",r,ae,J]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,w,ye]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",xe,y]}],"font-family":[{font:[ps,y,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,w,y]}],"line-clamp":[{"line-clamp":[C,"none",w,ye]}],leading:[{leading:[n,...x()]}],"list-image":[{"list-image":["none",w,y]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",w,y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:k()}],"text-color":[{text:k()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:[C,"from-font","auto",w,J]}],"text-decoration-color":[{decoration:k()}],"underline-offset":[{"underline-offset":[C,"auto",w,y]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:x()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",w,y]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",w,y]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:L()}],"bg-repeat":[{bg:ee()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},H,w,y],radial:["",w,y],conic:[H,w,y]},ms,us]}],"bg-color":[{bg:k()}],"gradient-from-pos":[{from:ne()}],"gradient-via-pos":[{via:ne()}],"gradient-to-pos":[{to:ne()}],"gradient-from":[{from:k()}],"gradient-via":[{via:k()}],"gradient-to":[{to:k()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:V()}],"border-w-x":[{"border-x":V()}],"border-w-y":[{"border-y":V()}],"border-w-s":[{"border-s":V()}],"border-w-e":[{"border-e":V()}],"border-w-t":[{"border-t":V()}],"border-w-r":[{"border-r":V()}],"border-w-b":[{"border-b":V()}],"border-w-l":[{"border-l":V()}],"divide-x":[{"divide-x":V()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":V()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Q(),"hidden","none"]}],"divide-style":[{divide:[...Q(),"hidden","none"]}],"border-color":[{border:k()}],"border-color-x":[{"border-x":k()}],"border-color-y":[{"border-y":k()}],"border-color-s":[{"border-s":k()}],"border-color-e":[{"border-e":k()}],"border-color-t":[{"border-t":k()}],"border-color-r":[{"border-r":k()}],"border-color-b":[{"border-b":k()}],"border-color-l":[{"border-l":k()}],"divide-color":[{divide:k()}],"outline-style":[{outline:[...Q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[C,w,y]}],"outline-w":[{outline:["",C,ae,J]}],"outline-color":[{outline:k()}],shadow:[{shadow:["","none",h,he,ce]}],"shadow-color":[{shadow:k()}],"inset-shadow":[{"inset-shadow":["none",d,he,ce]}],"inset-shadow-color":[{"inset-shadow":k()}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:k()}],"ring-offset-w":[{"ring-offset":[C,J]}],"ring-offset-color":[{"ring-offset":k()}],"inset-ring-w":[{"inset-ring":V()}],"inset-ring-color":[{"inset-ring":k()}],"text-shadow":[{"text-shadow":["none",f,he,ce]}],"text-shadow-color":[{"text-shadow":k()}],opacity:[{opacity:[C,w,y]}],"mix-blend":[{"mix-blend":[...te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[C]}],"mask-image-linear-from-pos":[{"mask-linear-from":P()}],"mask-image-linear-to-pos":[{"mask-linear-to":P()}],"mask-image-linear-from-color":[{"mask-linear-from":k()}],"mask-image-linear-to-color":[{"mask-linear-to":k()}],"mask-image-t-from-pos":[{"mask-t-from":P()}],"mask-image-t-to-pos":[{"mask-t-to":P()}],"mask-image-t-from-color":[{"mask-t-from":k()}],"mask-image-t-to-color":[{"mask-t-to":k()}],"mask-image-r-from-pos":[{"mask-r-from":P()}],"mask-image-r-to-pos":[{"mask-r-to":P()}],"mask-image-r-from-color":[{"mask-r-from":k()}],"mask-image-r-to-color":[{"mask-r-to":k()}],"mask-image-b-from-pos":[{"mask-b-from":P()}],"mask-image-b-to-pos":[{"mask-b-to":P()}],"mask-image-b-from-color":[{"mask-b-from":k()}],"mask-image-b-to-color":[{"mask-b-to":k()}],"mask-image-l-from-pos":[{"mask-l-from":P()}],"mask-image-l-to-pos":[{"mask-l-to":P()}],"mask-image-l-from-color":[{"mask-l-from":k()}],"mask-image-l-to-color":[{"mask-l-to":k()}],"mask-image-x-from-pos":[{"mask-x-from":P()}],"mask-image-x-to-pos":[{"mask-x-to":P()}],"mask-image-x-from-color":[{"mask-x-from":k()}],"mask-image-x-to-color":[{"mask-x-to":k()}],"mask-image-y-from-pos":[{"mask-y-from":P()}],"mask-image-y-to-pos":[{"mask-y-to":P()}],"mask-image-y-from-color":[{"mask-y-from":k()}],"mask-image-y-to-color":[{"mask-y-to":k()}],"mask-image-radial":[{"mask-radial":[w,y]}],"mask-image-radial-from-pos":[{"mask-radial-from":P()}],"mask-image-radial-to-pos":[{"mask-radial-to":P()}],"mask-image-radial-from-color":[{"mask-radial-from":k()}],"mask-image-radial-to-color":[{"mask-radial-to":k()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":v()}],"mask-image-conic-pos":[{"mask-conic":[C]}],"mask-image-conic-from-pos":[{"mask-conic-from":P()}],"mask-image-conic-to-pos":[{"mask-conic-to":P()}],"mask-image-conic-from-color":[{"mask-conic-from":k()}],"mask-image-conic-to-color":[{"mask-conic-to":k()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:L()}],"mask-repeat":[{mask:ee()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",w,y]}],filter:[{filter:["","none",w,y]}],blur:[{blur:W()}],brightness:[{brightness:[C,w,y]}],contrast:[{contrast:[C,w,y]}],"drop-shadow":[{"drop-shadow":["","none",p,he,ce]}],"drop-shadow-color":[{"drop-shadow":k()}],grayscale:[{grayscale:["",C,w,y]}],"hue-rotate":[{"hue-rotate":[C,w,y]}],invert:[{invert:["",C,w,y]}],saturate:[{saturate:[C,w,y]}],sepia:[{sepia:["",C,w,y]}],"backdrop-filter":[{"backdrop-filter":["","none",w,y]}],"backdrop-blur":[{"backdrop-blur":W()}],"backdrop-brightness":[{"backdrop-brightness":[C,w,y]}],"backdrop-contrast":[{"backdrop-contrast":[C,w,y]}],"backdrop-grayscale":[{"backdrop-grayscale":["",C,w,y]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[C,w,y]}],"backdrop-invert":[{"backdrop-invert":["",C,w,y]}],"backdrop-opacity":[{"backdrop-opacity":[C,w,y]}],"backdrop-saturate":[{"backdrop-saturate":[C,w,y]}],"backdrop-sepia":[{"backdrop-sepia":["",C,w,y]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":x()}],"border-spacing-x":[{"border-spacing-x":x()}],"border-spacing-y":[{"border-spacing-y":x()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",w,y]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[C,"initial",w,y]}],ease:[{ease:["linear","initial",b,w,y]}],delay:[{delay:[C,w,y]}],animate:[{animate:["none",z,w,y]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,w,y]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:Y()}],"rotate-x":[{"rotate-x":Y()}],"rotate-y":[{"rotate-y":Y()}],"rotate-z":[{"rotate-z":Y()}],scale:[{scale:K()}],"scale-x":[{"scale-x":K()}],"scale-y":[{"scale-y":K()}],"scale-z":[{"scale-z":K()}],"scale-3d":["scale-3d"],skew:[{skew:fe()}],"skew-x":[{"skew-x":fe()}],"skew-y":[{"skew-y":fe()}],transform:[{transform:[w,y,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:le()}],"translate-x":[{"translate-x":le()}],"translate-y":[{"translate-y":le()}],"translate-z":[{"translate-z":le()}],"translate-none":["translate-none"],accent:[{accent:k()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:k()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",w,y]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":x()}],"scroll-mx":[{"scroll-mx":x()}],"scroll-my":[{"scroll-my":x()}],"scroll-ms":[{"scroll-ms":x()}],"scroll-me":[{"scroll-me":x()}],"scroll-mt":[{"scroll-mt":x()}],"scroll-mr":[{"scroll-mr":x()}],"scroll-mb":[{"scroll-mb":x()}],"scroll-ml":[{"scroll-ml":x()}],"scroll-p":[{"scroll-p":x()}],"scroll-px":[{"scroll-px":x()}],"scroll-py":[{"scroll-py":x()}],"scroll-ps":[{"scroll-ps":x()}],"scroll-pe":[{"scroll-pe":x()}],"scroll-pt":[{"scroll-pt":x()}],"scroll-pr":[{"scroll-pr":x()}],"scroll-pb":[{"scroll-pb":x()}],"scroll-pl":[{"scroll-pl":x()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",w,y]}],fill:[{fill:["none",...k()]}],"stroke-w":[{stroke:[C,ae,J,ye]}],stroke:[{stroke:["none",...k()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},ws=es(ys);function vs(...t){return ws(Gr(t))}const Ms=({text:t,speed:e=50,initialDelay:r=0,waitTime:s=2e3,deleteSpeed:i=30,loop:n=!0,className:a,showCursor:l=!0,hideCursorOnType:o=!1,cursorChar:c="|",cursorClassName:h="ml-1",cursorAnimationVariants:d={initial:{opacity:0},animate:{opacity:1,transition:{duration:.01,repeat:1/0,repeatDelay:.4,repeatType:"reverse"}}}})=>{const[f,p]=G.useState(""),[u,g]=G.useState(0),[m,b]=G.useState(!1),[z,E]=G.useState(0),v=Array.isArray(t)?t:[t];return G.useEffect(()=>{let M;const A=v[z],S=()=>{if(m)if(f===""){if(b(!1),z===v.length-1&&!n)return;E(x=>(x+1)%v.length),g(0),M=setTimeout(()=>{},s)}else M=setTimeout(()=>{p(x=>x.slice(0,-1))},i);else u<A.length?M=setTimeout(()=>{p(x=>x+A[u]),g(x=>x+1)},e):v.length>1&&(M=setTimeout(()=>{b(!0)},s))};return u===0&&!m&&f===""?M=setTimeout(S,r):S(),()=>clearTimeout(M)},[u,f,m,e,i,s,v,z,n,r]),D.jsxs("div",{className:`inline whitespace-pre-wrap tracking-tight ${a}`,children:[D.jsx("span",{children:f}),l&&D.jsx(ct.span,{variants:d,className:vs(h,o&&(u<v[z].length||m)?"hidden":""),initial:"initial",animate:"animate",children:c})]})};function Es(){const t=e=>{const r=document.getElementById(e);if(r){const s=document.querySelector("header"),i=s?s.offsetHeight:60,a=r.getBoundingClientRect().top+window.pageYOffset-i-20;window.scrollTo({top:a,behavior:"smooth"})}};return D.jsxs("section",{id:"hero",className:`relative mx-auto w-full pt-32 pb-20 px-6 text-center md:px-8
      h-[690px] overflow-hidden
      bg-[linear-gradient(to_bottom,#FFFAEE,#FFFAEE_50%,#e8e8e8_88%)]
      dark:bg-[linear-gradient(to_bottom,#191919,#191919_50%,#0a0a0a_88%)]
      rounded-b-xl flex flex-col items-center justify-center`,children:[D.jsx("div",{className:"absolute inset-0 w-full h-full opacity-20",style:{zIndex:0},children:D.jsx(Dr,{scale:1.2,gridMul:[1,1],digitSize:1.5,timeScale:.5,scanlineIntensity:.5,glitchAmount:.8,flickerAmount:.6,noiseAmp:1,chromaticAberration:0,dither:0,curvature:0,tint:"#FE5102",mouseReact:!1,pageLoadAnimation:!0,brightness:1})}),D.jsxs("div",{className:"relative w-full max-w-7xl mx-auto px-4",style:{zIndex:10},children:[D.jsx("h1",{className:`animate-fade-in text-balance text-center
          text-brand-vanilla py-6 font-display text-d1-mobile md:text-d1-tablet xl:text-d1-desktop
          leading-none tracking-tighter`,style:{animationDelay:"0.2s",opacity:0},children:"Brand OS"}),D.jsx("div",{className:`animate-fade-in text-center
          text-xl tracking-tight font-accent
          md:text-2xl lg:text-3xl`,style:{animationDelay:"0.4s",opacity:0},children:D.jsxs("p",{className:"text-brand-vanilla",children:[D.jsx("span",{children:"Made to help you "}),D.jsx(Ms,{text:["create","design","build","render","code","experiment","make"],speed:70,className:"text-brand-aperol font-accent",waitTime:1500,deleteSpeed:40,cursorChar:"_"})]})}),D.jsxs("div",{className:"animate-fade-in flex flex-wrap gap-4 justify-center mt-12",style:{animationDelay:"0.6s",opacity:0},children:[D.jsx("button",{onClick:()=>t("core"),className:"bg-brand-vanilla hover:bg-brand-aperol text-brand-charcoal hover:text-brand-vanilla transition-colors px-6 py-3 rounded-full font-text text-button min-w-[128px]",children:"Core"}),D.jsx("button",{onClick:()=>t("identity"),className:"bg-brand-vanilla hover:bg-brand-aperol text-brand-charcoal hover:text-brand-vanilla transition-colors px-6 py-3 rounded-full font-text text-button min-w-[128px]",children:"Identity"}),D.jsx("button",{onClick:()=>t("system"),className:"bg-brand-vanilla hover:bg-brand-aperol text-brand-charcoal hover:text-brand-vanilla transition-colors px-6 py-3 rounded-full font-text text-button min-w-[128px]",children:"System"})]})]}),D.jsx("div",{className:`animate-fade-up-no-translate relative mt-32 opacity-0 [perspective:2000px]
        after:absolute after:inset-0 after:z-50
        after:[background:linear-gradient(to_top,#191919_10%,transparent)]`})]})}export{Es as default};
